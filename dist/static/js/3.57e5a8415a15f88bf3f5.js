webpackJsonp([3],{hSj1:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("7t+N"),i=a.n(e),o={data:function(){return{products:[],pagination:{},tempProduct:{title:"",category:"",origin_price:"",price:"",unit:"",image:"",description:"",content:"",is_enabled:0,imageUrl:"",isNew:!0},isLoading:!1,status:{loadingItem:!1}}},created:function(){this.getProducts()},computed:{},methods:{getProducts:function(){var t=this;t.isLoading=!0;t.axios.get("https://vue-course-api.hexschool.io/api/chris2012/products").then(function(s){s.data.success?(console.log("response.data: ",s.data),t.products=s.data.products,t.pagination=s.data.pagination):(console.log("取得產品失敗"),t.$bus.$emit("message:push","取得產品失敗","danger")),t.isLoading=!1}).catch(function(s){console.log(s),t.$bus.$emit("message:push","伺服器內部錯誤","danger"),t.isLoading=!1})},getProduct:function(t){var s=this;s.status.loadingItem=t;var a="https://vue-course-api.hexschool.io/api/chris2012/product/"+t;s.axios.get(a).then(function(t){t.data.success?(console.log("response.data: ",t.data),s.tempProduct=t.data.product):(console.log("取得產品失敗"),s.$bus.$emit("message:push","取得產品失敗","danger")),s.isLoading=!1,i()("#productModal").modal("show"),s.status.loadingItem=""}).catch(function(t){console.log(t),s.$bus.$emit("message:push","伺服器內部錯誤","danger"),s.isLoading=!1,s.status.loadingItem=""})}}},n={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),a("div",{staticClass:"row mt-4"},t._l(t.products,function(s){return a("div",{key:s.id,staticClass:"col-md-4 mb-4"},[a("div",{staticClass:"card border-0 shadow-sm"},[a("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+s.imageUrl+")"}}),t._v(" "),a("div",{staticClass:"card-body"},[a("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(s.category))]),t._v(" "),a("h5",{staticClass:"card-title"},[a("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(s.title))])]),t._v(" "),a("p",{staticClass:"card-text"},[t._v(t._s(s.description))]),t._v(" "),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a("del",{staticClass:"h6"},[t._v("原價  "+t._s(t._f("currency")(s.origin_price))+"  ")]),t._v(" "),a("div",{staticClass:"h5"},[t._v("現在只要 "+t._s(t._f("currency")(s.price))+"  ")])])]),t._v(" "),a("div",{staticClass:"card-footer d-flex"},[a("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(a){t.getProduct(s.id)}}},[t.status.loadingItem===s.id?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n              查看更多\n          ")]),t._v(" "),t._m(0,!0)])])])})),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v(t._s(t.tempProduct.title))])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("img",{staticClass:"img-fluid",attrs:{src:t.tempProduct.imageUrl,alt:""}}),t._v(" "),a("blockquote",{staticClass:"blockquote mt-3"},[a("p",{staticClass:"mb-0"},[t._v(t._s(t.tempProduct.content))]),t._v(" "),a("footer",{staticClass:"blockquote-footer text-right"})]),t._v(" "),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.tempProduct.price?t._e():a("div",{staticClass:"h4"},[t._v(t._s(t.tempProduct.origin_price)+" 元")]),t._v(" "),t.tempProduct.price?a("div",{staticClass:"h6"},[t._v("原價 "+t._s(t.tempProduct.origin_price)+" 元")]):t._e(),t._v(" "),t.tempProduct.price?a("div",{staticClass:"h4"},[t._v("現在只要 "+t._s(t.tempProduct.price)+" 元")]):t._e()]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.num,expression:"tempProduct.num"}],staticClass:"form-control-3",attrs:{name:""},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.tempProduct,"num",s.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[t._v("選購1件")])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"text-muted text-nowrap mr-3"},[t._v("\n            小計 "),a("strong",[t._v(t._s(Number(t.tempProduct.num)*Number(t.tempProduct.price)))]),t._v(" 元\n          ")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("\n              加入購物車\n            ")])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"}},[s("i",{staticClass:"fas fa-spinner fa-spin"}),this._v("\n              加到購物車\n          ")])}]},c=a("VU/8")(o,n,!1,null,null,null);s.default=c.exports}});
//# sourceMappingURL=3.57e5a8415a15f88bf3f5.js.map