{"version":3,"sources":["webpack:///src/components/pages/Coupon.vue","webpack:///./src/components/pages/Coupon.vue?3479","webpack:///./src/components/pages/Coupon.vue"],"names":["Coupon","name","data","pagination","coupon","title","is_enabled","percent","due_date","code","coupons","methods","addCoupon","vm","this","isLoading","console","log","axios","post","then","response","success","$bus","$emit","catch","error","getCoupon","page","arguments","length","undefined","api","get","created","pages_Coupon","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","click","$event","_m","_l","item","key","id","_s","staticStyle","height","background-size","background-position","style","backgroundImage","attrs","aria-label","class","disabled","has_pre","href","preventDefault","current_page","aria-hidden","active","has_next","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.e67431f1b4be93706faf.js","sourcesContent":["<template>\n<div>\n  <div class=\"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow\">\n      <h4 class=\"my-0 mr-md-auto font-weight-normal mt-2\">優惠券管理</h4>\n      <button class=\"btn btn-outline-primary mt-2\" @click=\"addCoupon()\">新增優惠券</button>\n  </div>\n  <div class=\"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center\">\n    <h5 class=\"display-6\">優惠券清單</h5>\n  </div>\n  <div class=\"container\">\n    <div class=\"row card-deck mb-3 text-center\">\n      <div v-for=\"item in coupons\" class=\"col-5 card mb-4 box-shadow coupon\" :key=\"item.id\">\n        <div class=\"card-header\">\n          <h4 class=\"my-0 font-weight-normal\">{{item.title}}</h4>\n        </div>\n        <div class=\"card-body\" style=\"height: 150px; background-size: cover; background-position: center\" :style=\"{backgroundImage: `url(https://storage.googleapis.com/vue-course-api.appspot.com/chris2012%2F1537107515811.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=hFfxlDytb%2ByFPlyXsKpDGwB%2BC3OoMpilVVWXe33hKvJ0r0J9Uj7VMvSx2zVRHcGE6iwT1%2B86%2BnL5qC6uaM6s7P5OFlvM9FNkRCE44B646qpEolxcCt%2B4zMxkigfsxjnpmmBaTsNgaDsanvvCAygipWAwan6HVWW44sw%2B%2FfbUgK6q4AKTnb9PEwtGXaMyW0AEFkiM%2BeWTcLfTkiuFw3xVhINbIdjweaZDlW5HPD3EzEn2QJkUzym%2BVTfw3UKQ35HDbDRm7k8WHRhk0W82GiThFzrmd9QhodwIH2RMELLSxRzPmuxaA99Ha76ntP8JY1R5ja%2Fg1EpwOlOUngIp2jK%2Bgw%3D%3D)`}\">\n          <h1 class=\"card-title pricing-card-title\">${{item.percent/10}}%<small class=\"text-muted\"> off</small></h1>\n          <ul class=\"list-unstyled mt-3 mb-4\">\n            <li>是否有效: {{item.is_enabled ? '可用': '不可用'}}</li>\n            <li>優惠券代碼: {{item.code}}</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- 分頁標籤 start -->\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination mt-2\">\n      <li class=\"page-item\" :class=\"{'disabled': !pagination.has_pre}\">\n        <a @click.prevent=\"getCoupon(pagination.current_page - 1)\" class=\"page-link\" href=\"#\" aria-label=\"Previous\">\n          <span aria-hidden=\"true\">&laquo;</span>\n          <span class=\"sr-only\">Previous</span>\n        </a>\n      </li>\n      <!-- 利用 total_pages 數字做 v-for 迴圈 -->\n      <li class=\"page-item\" :class=\"{'active': pagination.current_page === page}\" v-for=\"page in pagination.total_pages\" :key=\"page\"><a class=\"page-link\" href=\"#\" @click.prevent=\"getCoupon(page)\">{{page}}</a></li>\n      <li class=\"page-item\" :class=\"{'disabled': !pagination.has_next}\">\n        <a @click.prevent=\"getCoupon(pagination.current_page + 1)\" class=\"page-link\" href=\"#\" aria-label=\"Next\">\n          <span aria-hidden=\"true\">&raquo;</span>\n          <span class=\"sr-only\">Next</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n  <!-- 分頁標籤 end -->\n</div>\n</template>\n\n<script>\nexport default {\n  name: \"Alert\",\n  data() {\n    return {\n      pagination: {},\n      coupon: {\n        title: \"testCoupon\",\n        is_enabled: 1,\n        percent: 75,\n        due_date: 9999999999,\n        code: \"5566\"\n      },\n      coupons:[]\n    };\n  },\n  methods: {\n    addCoupon() {\n      const vm = this;\n      vm.isLoading = true;\n      const api = `${process.env.APIPATH}/api/${\n        process.env.CUSTOMPATH\n      }/admin/coupon`;\n      console.log(\"vm.coupon: \", vm.coupon);\n      vm.axios\n        .post(api, { data: vm.coupon })\n        .then(response => {\n          if (response.data.success) {\n            console.log(\"response.data: \", response.data);\n            // vm.getCart();\n          } else {\n            console.log(\"新增優惠券失敗\");\n            console.log(\"response.data: \", response.data);\n            vm.$bus.$emit(\"message:push\", \"新增優惠券失敗\", \"danger\");\n          }\n          vm.isLoading = false;\n        })\n        .catch(error => {\n          console.log(error);\n          vm.$bus.$emit(\"message:push\", \"伺服器內部錯誤!!!\", \"danger\");\n          vm.isLoading = false;\n        });\n    },\n    getCoupon(page = 1) {\n      const vm = this;\n      vm.isLoading = true;\n      const api = `${process.env.APIPATH}/api/${\n        process.env.CUSTOMPATH\n      }/admin/coupons?page=${page}`;\n      vm.axios\n        .get(api)\n        .then(response => {\n          if (response.data.success) {\n            console.log(\"response.data: \", response.data);\n            vm.coupons = response.data.coupons\n            vm.pagination = response.data.pagination;\n          } else {\n            console.log(\"取得優惠券列表失敗\");\n            vm.$bus.$emit(\"message:push\", \"取得優惠券列表失敗\", \"danger\");\n          }\n          vm.isLoading = false;\n        })\n        .catch(error => {\n          console.log(error);\n          vm.$bus.$emit(\"message:push\", \"伺服器內部錯誤!!!\", \"danger\");\n          vm.isLoading = false;\n        });\n    }\n  },\n  created() {\n    this.getCoupon();\n  }\n};\n</script>\n\n<style scope>\nhtml {\n  font-size: 14px;\n}\n@media (min-width: 768px) {\n  html {\n    font-size: 16px;\n  }\n}\n\n.container {\n  max-width: 960px;\n}\n\n.pricing-header {\n  max-width: 700px;\n}\n\n.card-deck .card {\n  min-width: 220px;\n}\n\n.border-top {\n  border-top: 1px solid #e5e5e5;\n}\n.border-bottom {\n  border-bottom: 1px solid #e5e5e5;\n}\n\n.box-shadow {\n  box-shadow: 0 0.25rem 0.75rem rgba(0, 0, 0, 0.05);\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/pages/Coupon.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow\"},[_c('h4',{staticClass:\"my-0 mr-md-auto font-weight-normal mt-2\"},[_vm._v(\"優惠券管理\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-primary mt-2\",on:{\"click\":function($event){_vm.addCoupon()}}},[_vm._v(\"新增優惠券\")])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row card-deck mb-3 text-center\"},_vm._l((_vm.coupons),function(item){return _c('div',{key:item.id,staticClass:\"col-5 card mb-4 box-shadow coupon\"},[_c('div',{staticClass:\"card-header\"},[_c('h4',{staticClass:\"my-0 font-weight-normal\"},[_vm._v(_vm._s(item.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\",staticStyle:{\"height\":\"150px\",\"background-size\":\"cover\",\"background-position\":\"center\"},style:({backgroundImage: \"url(https://storage.googleapis.com/vue-course-api.appspot.com/chris2012%2F1537107515811.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=hFfxlDytb%2ByFPlyXsKpDGwB%2BC3OoMpilVVWXe33hKvJ0r0J9Uj7VMvSx2zVRHcGE6iwT1%2B86%2BnL5qC6uaM6s7P5OFlvM9FNkRCE44B646qpEolxcCt%2B4zMxkigfsxjnpmmBaTsNgaDsanvvCAygipWAwan6HVWW44sw%2B%2FfbUgK6q4AKTnb9PEwtGXaMyW0AEFkiM%2BeWTcLfTkiuFw3xVhINbIdjweaZDlW5HPD3EzEn2QJkUzym%2BVTfw3UKQ35HDbDRm7k8WHRhk0W82GiThFzrmd9QhodwIH2RMELLSxRzPmuxaA99Ha76ntP8JY1R5ja%2Fg1EpwOlOUngIp2jK%2Bgw%3D%3D)\"})},[_c('h1',{staticClass:\"card-title pricing-card-title\"},[_vm._v(\"$\"+_vm._s(item.percent/10)+\"%\"),_c('small',{staticClass:\"text-muted\"},[_vm._v(\" off\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"list-unstyled mt-3 mb-4\"},[_c('li',[_vm._v(\"是否有效: \"+_vm._s(item.is_enabled ? '可用': '不可用'))]),_vm._v(\" \"),_c('li',[_vm._v(\"優惠券代碼: \"+_vm._s(item.code))])])])])}))]),_vm._v(\" \"),_c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination mt-2\"},[_c('li',{staticClass:\"page-item\",class:{'disabled': !_vm.pagination.has_pre}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Previous\"},on:{\"click\":function($event){$event.preventDefault();_vm.getCoupon(_vm.pagination.current_page - 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"«\")]),_vm._v(\" \"),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Previous\")])])]),_vm._v(\" \"),_vm._l((_vm.pagination.total_pages),function(page){return _c('li',{key:page,staticClass:\"page-item\",class:{'active': _vm.pagination.current_page === page}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.getCoupon(page)}}},[_vm._v(_vm._s(page))])])}),_vm._v(\" \"),_c('li',{staticClass:\"page-item\",class:{'disabled': !_vm.pagination.has_next}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Next\"},on:{\"click\":function($event){$event.preventDefault();_vm.getCoupon(_vm.pagination.current_page + 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"»\")]),_vm._v(\" \"),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Next\")])])])],2)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center\"},[_c('h5',{staticClass:\"display-6\"},[_vm._v(\"優惠券清單\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0005c21c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/Coupon.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0005c21c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Coupon.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Coupon.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Coupon.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0005c21c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Coupon.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/Coupon.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}